Как собрать и скомпилировать?

Содержание

   Вступление

   Что нужно для сборки?

   Сборка библиотек

          1. TinyXML 2.6.1

          2. Lua 5.1

          3. LibTheora 1.1.1

          4. LibOgg 1.2.0

          5. HGE 1.81

   Компиляция проекта

ВСТУПЛЕНИЕ
	Если у вас появилось желание помочь проекту, дописать или переписать некоторую часть кода, то первым делом для этого нужно собрать и скомпилировать проект. Данное пособие должно упростить вам эту задачу.

ЧТО НУЖНО ДЛЯ СБОРКИ?
	Перед тем как собирать сам проект нужно скачать и собрать библиотеки, которые он использует:
1.	TinyXML (2.6.1) – маленький, простой XML парсер для языка С++. Скачать: http://sourceforge.net/projects/tinyxml/files/tinyxml/2.6.1/tinyxml_2_6_1.zip/download

2.	Lua (5.1.4) – мощный, быстрый, легкий, встраиваемый скриптовый язык. Скачать: http://www.lua.org/ftp/lua-5.1.4.tar.gz

3.	LibTheora (1.1.1) – свободный и открытый формат сжатия видео. Скачать: http://downloads.xiph.org/releases/theora/libtheora-1.1.1.zip

4.	LibOgg (1.2.0) – открытый стандарт формата мультимедиаконтейнера. Скачать: http://downloads.xiph.org/releases/ogg/libogg-1.2.0.zip

5.	HGE (1.81) – простой в использовании 2D движок основанный на DirectX 8.0. Скачать: http://hge.relishgames.com/files/hge.zip


СБОРКА БИБЛИОТЕК
	После того как вы скачали все нужные библиотеки (см. раздел «Что нужно для сборки») можно приступать к их сборке.
Примечание: Все сборки проводились в MVS 2008 Professional Edition, под который и компилировался проект. При использовании другого IDE или другой версии MVS возможны проблемы.

 
TinyXML 2.6.1

В корневом каталоге открываем файл tinyxml.sln. В solution explorer'e будут видны 4 проекта. tinyxmlSTL отвечает за создания статической библиотеки с использованием STL – его мы и будем строить.

Для удобства можно зайти в опции проекта (выделить проект и Alt+F7), перейти к разделу Librarian, и изменить строку Output File на lib_STL\ tinyxml_STL.lib для Release версии и на lib_STL\ tinyxmld_STL.lib для Debug. Можно строить проект (ПКМ на проекте -> Build для Release и Debug) .

Так же создайте папку Include в корневом каталоге и скопируйте туда файлы tinystr.h и tinyxml.h.

После всего этого в опциях MVS (Tools->Options->Projects and Solutions->VC++ Directiries) нужно добавить наши новоиспеченные папки lib_STL, include для поиска в них файлов студией. Для этого установим Show Directiries for на Library files и добавим путь к папке lib_STL, Show Directiries for на Include files – путь к Include.

Lua 5.1.4

	В корневом каталоге создайте 2 папки: Lib и Include. В папке etc есть батник luavs.bat который и создаст нам либу для Release версии. Сделаем на основе него батник для Debug версии. Для этого скопируем luavs.bat в эту же папку и назовем его luavs.bat. Далее открываем его текстовым редактором и строку 
@set MYCOMPILE=cl /nologo /MD /O2 /W3 /c /D_CRT_SECURE_NO_DEPRECATE
изменяем на
@set MYCOMPILE=cl /nologo /Od /D "_DEBUG" /MDd /W3 /c /D_CRT_SECURE_NO_DEPRECATE /ZI /TC
а также все имена lua51 изменяем на lua51d.
Теперь открываем Command Window и переходим в корневой каталог Lua (используем команду cd или ПКМ на папке Lua -> Open Command Window Here). Пишем etc\luavs.bat – в папке src должен появиться файл lua51.lib (и некоторые другие). Теперь запустим наш второй батник – etc\luavsd.bat – получили файл lua51d.lib. Этих 2 файла библиотеки копируем в папку Lib.
А также из папки src скопируйте файлы lua.h luaconf.h lualib.h lauxlib.h и из папки etc lua.hpp в папку Include.
	Теперь добавьте эти папки к директориям MSV как добавляли TinyXML.

LibTheora 1.1.1
	